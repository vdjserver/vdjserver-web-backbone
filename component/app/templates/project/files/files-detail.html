
<div class="row project-files-table-row" draggable="true">
    <div class="col-md-3 text-data">
        <a data-bypass="true" href="" class="underline-on-hover" id="project-file-download">{{value.name}}</a>
    </div>
    <div class="col-md-2 text-data">{{FormatDateTime lastUpdated}}</div>
    <div class="col-md-1 text-data">{{GetHumanReadableFileSize value.length}}</div>
    <div class="col-md-2">
        <select class="form-control" id="project-file-type">
            {{#each fileTypes}}
                <option {{#ifEquals this ../value.fileType}}selected{{/ifEquals}} value="{{this}}">
                    {{#with (lookup ../fileTypeNames @index)}} {{this}} {{/with}}
                </option>
            {{/each}}
        </select>
    </div>
    <div class="col-md-2">
        <input
            class="form-control"
            type="text"
            id="project-file-tags"
            value="{{GetTagDisplay value.publicAttributes}}">
    </div>
    <div class="col-md-1">
        <select class="form-control" id="project-file-read-direction">
            <option></option>
            {{#each readDirections}}
                <option {{#ifEquals this ../value.readDirection}}selected{{/ifEquals}}>{{this}}</option>
            {{/each}}
        </select>
    </div>
    <div class="col-md-1 project-buttons-right">
        <div class="btn-group" role="group" aria-label="Button group">
            <button type="button" class="btn btn-delete" title="Delete file" id="project-file-delete">
                <i class="fa fa-trash"></i>
            </button>
        </div>
    </div>
</div>

<!--
    <td><button class="download-file btn btn-default" data-filename="{{value.name}}" data-metadatauuid="{{uuid}}">{{value.name}}</button></td>
    <td>{{value.name}}</td>
    <td>{{GetHumanReadableFileSize value.length}}</td>
-->

{{!-- Start Single Reads --}}
{{#each singleReadFileListings}}
    {{#if isPlaceholder}}
        <tr class="text-center table-row-placeholder">
    {{else}}
        <tr class="text-center">
    {{/if}}
        <td>
            {{#if isPlaceholder}}
            {{else}}
                {{#IfJobSelectableFileType value.name value.fileType}}
                    <input name="file-checkbox" type="checkbox" value="{{uuid}}" class="selected-files" {{communityModeDisable}}>
                {{else}}
                    <input name="file-checkbox" type="checkbox" value="{{uuid}}" class="selected-files not-job-selectable" {{communityModeDisable}}>
                {{/IfJobSelectableFileType}}
            {{/if}}
        </td>
        <td>
            {{#if isPlaceholder}}
                <div class="row">
                    <div class="col-sm-12">
                        Importing:  <i>{{value.name}}</i>
                    </div>
                </div>

                &nbsp;

                <div class="row">
                    <div class="col-sm-12">
                        <div class="progress">
                            <div class="progress-bar progress-striped active placeholder-guid-{{uuid}}">
                            </div>
                        </div>
                    </div>
                </div>

            {{else}}
                {{!--
                    {{> project-file-list-title this}}
                --}}

                {{#if value.qualityScoreMetadataUuid}}
                    <div class="row">
                        <div class="col-sm-12">

                            <div class="file-listing-title-block">
                                <i class="fa fa-link"></i>
                            </div>

                            &nbsp;

                            <div class="file-listing-title-block">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <button class="download-file btn btn-default" data-filename="{{value.name}}" data-metadatauuid="{{uuid}}">{{value.name}}</button>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        {{#if this.qualModel}}
                                            <hr class="project-file-list-separator">
                                            <button class="download-file btn btn-default" data-filename="{{this.qualModel.value.name}}" data-metadatauuid="{{this.qualModel.uuid}}">{{this.qualModel.value.name}}</button>
                                        {{/if}}
                                    </div>
                                </div>
                            </div>

                            &nbsp;

                        </div>
                    </div>
                {{else}}
                    <div class="row">
                        <div class="col-sm-12">
                            <button class="download-file btn btn-default" data-filename="{{value.name}}" data-metadatauuid="{{uuid}}">{{value.name}}</button>
                        </div>
                    </div>
                {{/if}}
            {{/if}}
        </td>
        <td>
            {{#if isPlaceholder}}
            {{else}}
                {{> project-file-list-last-modified this}}

                {{#if this.qualModel}}
                    <hr class="project-file-list-separator">
                    {{> project-file-list-last-modified this.qualModel}}
                {{/if}}
            {{/if}}
        </td>
        <td>
            {{#if isPlaceholder}}
            {{else}}
                {{> project-file-list-size this}}

                {{#if this.qualModel}}
                    <hr class="project-file-list-separator">
                    {{> project-file-list-size this.qualModel}}
                {{/if}}
            {{/if}}
        </td>
        <td>
            {{#if isPlaceholder}}
            {{else}}
                {{> project-file-list-origin this}}

                {{#if this.qualModel}}
                    <hr class="project-file-list-separator">
                    {{> project-file-list-origin this.qualModel}}
                {{/if}}
            {{/if}}
        </td>
        <td>
            {{#if isPlaceholder}}
            {{else}}
                <div class="row">
                    <div class="col-sm-12">
                        {{#if this.qualModel}}
                            Single-End Read-Level Data
                        {{else}}
                            <select
                                class="project-file-type"
                                data-fileuuid="{{uuid}}"
                                {{communityModeDisable}}
                            >
                                {{#each ../../../fileTypes}}
                                    <option {{ifCondSelected this ../../value.fileType}} value="{{this}}">
                                        {{#with (lookup ../../../../fileTypeNames @index)}} {{this}} {{/with}}
                                    </option>
                                {{/each}}
                            </select>
                        {{/if}}
                    </div>
                </div>
            {{/if}}
        </td>
        <td>
            {{#if isPlaceholder}}
            {{else}}
                {{> project-file-list-tags this}}

                {{#if this.qualModel}}
                    <hr class="project-file-list-separator">
                    {{> project-file-list-tags this.qualModel}}
                {{/if}}
            {{/if}}
        </td>
        <td>
            {{#if isPlaceholder}}
            {{else}}
                <div class="row">
                    <div class="col-sm-12">
                        <select
                            class="project-file-read-direction"
                            data-fileuuid="{{uuid}}"
                            {{communityModeDisable}}
                        >
                            <option></option>
                            {{#each ../../../readDirections}}
                                <option {{ifCondSelected this ../../value.readDirection}}>{{this}}</option>
                            {{/each}}
                        </select>
                    </div>
                </div>
                {{!--
                {{#if this.qualModel}}
                    <div class="row">
                        <div class="col-sm-12">
                            <select
                                class="project-file-read-direction"
                                data-fileuuid="{{this.qualModel.uuid}}"
                                {{communityModeDisable}}
                            >
                                <option></option>
                                {{#each ../../../../readDirections}}
                                    <option {{ifCondSelected this ../../this.qualModel.value.readDirection}}>{{this}}</option>
                                {{/each}}
                            </select>
                        </div>
                    </div>
                {{/if}}
                --}}
            {{/if}}
        </td>
    </tr>
{{/each}}
{{!-- End Single Reads --}}

{{!-- Start Paired Reads --}}
{{#each pairedReadFileListings}}
    <tr class="text-center">
        <td>
            <input name="file-checkbox" type="checkbox" value="{{this.0.uuid}}" class="selected-files" {{communityModeDisable}}>
        </td>
        <td>
            {{#each this}}
                {{> project-file-list-title this}}

                {{> project-file-list-spacer}}
            {{/each}}
        </td>
        <td>
            {{#each this}}

                {{> project-file-list-last-modified this}}

                {{#if this.qualModel}}
                    {{> project-file-list-last-modified this.qualModel}}
                {{/if}}

                {{> project-file-list-spacer}}
            {{/each}}
        </td>
        <td>
            {{#each this}}

                {{> project-file-list-size this}}

                {{#if this.qualModel}}
                    {{> project-file-list-size this.qualModel}}
                {{/if}}

                {{> project-file-list-spacer}}
            {{/each}}
        </td>
        <td>
            {{#each this}}

                {{> project-file-list-origin this}}

                {{#if this.qualModel}}
                    {{> project-file-list-origin this.qualModel}}
                {{/if}}

                {{> project-file-list-spacer}}
            {{/each}}
        </td>
        <td>
            <div class="file-listing-title-block">
                Paired-End Read-Level Data
            </div>

            &nbsp;

            <button class="btn btn-danger unlink-paired-read" id="{{this.[0].uuid}}" {{communityModeDisable}}>
                <i class="fa fa-close"></i>
            </button>
        </td>
        <td>
            {{#each this}}

                {{> project-file-list-tags this}}

                {{#if this.qualModel}}
                    {{> project-file-list-tags this.qualModel}}
                {{/if}}

                {{> project-file-list-spacer}}
            {{/each}}
        </td>
        <td>
            {{#each this}}
                <div class="row">
                    <div class="col-sm-12">
                        <select
                            class="project-file-read-direction"
                            data-fileuuid="{{uuid}}"
                            {{communityModeDisable}}
                        >
                            <option></option>
                            {{#each ../../../readDirections}}
                                <option {{ifCondSelected this ../value.readDirection}}>{{this}}</option>
                            {{/each}}
                        </select>
                    </div>
                </div>
                {{!--
                {{#if this.qualModel}}
                    <div class="row">
                        <div class="col-sm-12">
                            <select
                                class="project-file-read-direction"
                                data-fileuuid="{{this.qualModel.uuid}}"
                                {{communityModeDisable}}
                            >
                                <option></option>
                                {{#each ../../../readDirections}}
                                    <option {{ifCondSelected this ../this.qualModel.value.readDirection}}>{{this}}</option>
                                {{/each}}
                            </select>
                        </div>
                    </div>

                {{/if}}
                --}}

                {{> project-file-list-spacer}}
            {{/each}}
        </td>
    </tr>
{{/each}}
{{!-- End Paired Reads --}}
