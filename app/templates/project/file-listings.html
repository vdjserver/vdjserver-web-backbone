{{#if singleReadFileListings}}
    <div class="row">
        <div class="col-md-12 table-responsive">
            <table class="table table-bordered table-headings project-files">
                <thead>
                    <tr>
                        <th class="text-center">
                            <input id="select-all-files-checkbox" name="select-all-files-checkbox" type="checkbox">
                        </th>
                        <th class="text-center">
                            Title
                        </th>
                        <th class="text-center">
                            Pairing
                        </th>
                        <th class="text-center">
                            Last Modified
                        </th>
                        <th class="text-center">
                            Size
                        </th>
                        <th class="text-center">
                            File Origin
                        </th>
                        <th class="text-center">
                            Type
                        </th>
                        <th class="text-center">
                            Tags
                        </th>
                        <th class="text-center">
                            Read Direction
                        </th>
                    </tr>
                </thead>
                <tbody>

                    {{!-- Start Single Reads --}}
                    {{#each singleReadFileListings}}
                        <tr class="text-center">
                            <td>
                                {{#IfJobSelectableFileType value.name value.fileType}}
                                    <input name="file-checkbox" type="checkbox" value="{{uuid}}" class="selected-files">
                                {{else}}
                                    <input name="file-checkbox" type="checkbox" value="{{uuid}}" class="selected-files not-job-selectable">
                                {{/IfJobSelectableFileType}}
                            </td>
                            <td>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <a class="download-file" href="#" data-bypass=true data-filename="{{value.name}}" data-metadatauuid="{{uuid}}">{{value.name}}</a>
                                    </div>
                                </div>
                                    {{#if this.qualModel}}
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <a class="download-file" href="#" data-bypass=true data-filename="{{this.qualModel.value.name}}" data-metadatauuid="{{this.qualModel.uuid}}">{{this.qualModel.value.name}}</a>
                                            </div>
                                        </div>
                                    {{/if}}
                            </td>
                            <td>
                                <div class="row">
                                    <div class="col-sm-12">
                                        {{#if this.qualModel}}
                                            Single Read + Qual
                                        {{else}}
                                            Single Read
                                        {{/if}}
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="row">
                                    <div class="col-sm-12">
                                        {{FormatAgaveDate lastUpdated}}
                                    </div>
                                </div>
                                {{#if this.qualModel}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            {{FormatAgaveDate this.qualModel.lastUpdated}}
                                        </div>
                                    </div>
                                {{/if}}
                            </td>
                            <td>
                                <div class="row">
                                    <div class="col-sm-12">
                                        {{GetHumanReadableFileSize value.length}}
                                    </div>
                                </div>
                                {{#if this.qualModel}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            {{GetHumanReadableFileSize this.qualModel.value.length}}
                                        </div>
                                    </div>
                                {{/if}}
                            </td>
                            <td>
                                <div class="row">
                                    <div class="col-sm-12">
                                        {{#ifCond this.name "projectFile"}}
                                            Uploaded File
                                        {{else}}
                                            Job: <a href="/project/{{value.projectUuid}}/jobs/{{value.jobUuid}}">{{value.jobName}}</a>
                                        {{/ifCond}}
                                    </div>
                                </div>
                                {{#if this.qualModel}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            {{#ifCond this.qualModel.name "projectFile"}}
                                                Uploaded File
                                            {{else}}
                                                Job: <a href="/project/{{this.qualModel.value.projectUuid}}/jobs/{{this.qualModel.value.jobUuid}}">{{this.qualModel.value.jobName}}</a>
                                            {{/ifCond}}
                                        </div>
                                    </div>
                                    {{#ifCond @index 0}}
                                        <br>
                                    {{/ifCond}}
                                {{/if}}
                            </td>
                            <td>
                                <div class="row">
                                    <div class="col-sm-12">
                                        {{#if this.qualModel}}
                                            Read-Level Data
                                        {{else}}
                                            <select
                                                class="project-file-type"
                                                data-fileuuid="{{uuid}}"
                                            >
                                                {{#each ../../fileTypes}}
                                                <option {{ifCondSelected @index ../value.fileType}} value="{{@index}}">
                                                        {{this}}
                                                    </option>
                                                {{/each}}
                                            </select>
                                        {{/if}}
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <input
                                            class="project-file-tags"
                                            data-fileuuid="{{uuid}}"
                                            type="text"
                                            value="{{GetTagDisplay value.publicAttributes}}"
                                        >
                                    </div>
                                </div>
                                {{#if this.qualModel}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <input
                                                class="project-file-tags"
                                                data-fileuuid="{{this.qualModel.uuid}}"
                                                type="text"
                                                value="{{GetTagDisplay this.qualModel.value.publicAttributes}}"
                                            >
                                        </div>
                                    </div>
                                {{/if}}
                            </td>
                            <td>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <select
                                            class="project-file-read-direction"
                                            data-fileuuid="{{uuid}}"
                                        >
                                            <option></option>
                                            {{#each ../../readDirections}}
                                                <option {{ifCondSelected this ../value.readDirection}}>{{this}}</option>
                                            {{/each}}
                                        </select>
                                    </div>
                                </div>
                                {{#if this.qualModel}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <select
                                                class="project-file-read-direction"
                                                data-fileuuid="{{this.qualModel.uuid}}"
                                            >
                                                <option></option>
                                                {{#each ../../../readDirections}}
                                                    <option {{ifCondSelected this ../this.qualModel.value.readDirection}}>{{this}}</option>
                                                {{/each}}
                                            </select>
                                        </div>
                                    </div>
                                {{/if}}
                            </td>
                        </tr>
                    {{/each}}
                    {{!-- End Single Reads --}}


                    {{!-- Start Qual Associated Single Reads --}}
                    {{!--
                    {{#each qualAssociatedSingleFileListings}}
                        <tr class="text-center">
                            <td>
                                <input name="file-checkbox" type="checkbox" value="{{this.0.uuid}}" class="selected-files">
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <a class="download-file" href="#" data-bypass=true data-filename="{{value.name}}" data-metadatauuid="{{uuid}}">{{value.name}}</a>
                                        </div>
                                    </div>
                                {{/each}}
                            </td>
                            <td>
                                Single Read - Fasta/Qual
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            {{FormatAgaveDate lastUpdated}}
                                        </div>
                                    </div>
                                {{/each}}
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            {{GetHumanReadableFileSize value.length}}
                                        </div>
                                    </div>
                                {{/each}}
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            {{#ifCond this.name "projectFile"}}
                                                Uploaded File
                                            {{else}}
                                                Job: <a href="/project/{{value.projectUuid}}/jobs/{{value.jobUuid}}">{{value.jobName}}</a>
                                            {{/ifCond}}
                                        </div>
                                    </div>
                                {{/each}}
                            </td>
                            <td>
                                Read-Level Data
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <input
                                                class="project-file-tags"
                                                data-fileuuid="{{uuid}}"
                                                type="text"
                                                value="{{GetTagDisplay value.publicAttributes}}"
                                            >
                                        </div>
                                    </div>
                                {{/each}}
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <select
                                                class="project-file-read-direction"
                                                data-fileuuid="{{uuid}}"
                                            >
                                                <option></option>
                                                {{#each ../../../readDirections}}
                                                    <option {{ifCondSelected this ../value.readDirection}}>{{this}}</option>
                                                {{/each}}
                                            </select>
                                        </div>
                                    </div>
                                {{/each}}
                            </td>
                        </tr>
                    {{/each}}
                    --}}
                    {{!-- End Qual Associated Single Reads --}}

                    {{!-- Start Paired Reads --}}
                    {{#each pairedReadFileListings}}
                        <tr class="text-center">
                            <td>
                                <input name="file-checkbox" type="checkbox" value="{{this.0.uuid}}" class="selected-files">
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <a class="download-file" href="#" data-bypass=true data-filename="{{value.name}}" data-metadatauuid="{{uuid}}">{{value.name}}</a>
                                        </div>
                                    </div>
                                    {{#if this.qualModel}}
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <a class="download-file" href="#" data-bypass=true data-filename="{{this.qualModel.value.name}}" data-metadatauuid="{{this.qualModel.uuid}}">{{this.qualModel.value.name}}</a>
                                            </div>
                                        </div>
                                        {{#ifCond @index 0}}
                                            <br>
                                        {{/ifCond}}
                                    {{/if}}
                                {{/each}}
                            </td>
                            <td>
                                <div class="row">
                                    <div class="col-sm-12">
                                        Paired Reads
                                    </div>
                                </div>
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            {{FormatAgaveDate lastUpdated}}
                                        </div>
                                    </div>
                                    {{#if this.qualModel}}
                                        <div class="row">
                                            <div class="col-sm-12">
                                                {{FormatAgaveDate this.qualModel.lastUpdated}}
                                            </div>
                                        </div>
                                        {{#ifCond @index 0}}
                                            <br>
                                        {{/ifCond}}
                                    {{/if}}
                                {{/each}}
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            {{GetHumanReadableFileSize value.length}}
                                        </div>
                                    </div>
                                    {{#if this.qualModel}}
                                        <div class="row">
                                            <div class="col-sm-12">
                                                {{GetHumanReadableFileSize this.qualModel.value.length}}
                                            </div>
                                        </div>
                                        {{#ifCond @index 0}}
                                            <br>
                                        {{/ifCond}}
                                    {{/if}}
                                {{/each}}
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            {{#ifCond this.name "projectFile"}}
                                                Uploaded File
                                            {{else}}
                                                Job: <a href="/project/{{value.projectUuid}}/jobs/{{value.jobUuid}}">{{value.jobName}}</a>
                                            {{/ifCond}}
                                        </div>
                                    </div>
                                    {{#if this.qualModel}}
                                        <div class="row">
                                            <div class="col-sm-12">
                                                {{#ifCond this.qualModel.name "projectFile"}}
                                                    Uploaded File
                                                {{else}}
                                                    Job: <a href="/project/{{this.qualModel.value.projectUuid}}/jobs/{{this.qualModel.value.jobUuid}}">{{this.qualModel.value.jobName}}</a>
                                                {{/ifCond}}
                                            </div>
                                        </div>
                                        {{#ifCond @index 0}}
                                            <br>
                                        {{/ifCond}}
                                    {{/if}}
                                {{/each}}
                            </td>
                            <td>
                                <div class="row">
                                    <div class="col-sm-12">
                                        Read-Level Data
                                    </div>
                                </div>
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <input
                                                class="project-file-tags"
                                                data-fileuuid="{{uuid}}"
                                                type="text"
                                                value="{{GetTagDisplay value.publicAttributes}}"
                                            >
                                        </div>
                                    </div>
                                    {{#if this.qualModel}}
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <input
                                                    class="project-file-tags"
                                                    data-fileuuid="{{this.qualModel.uuid}}"
                                                    type="text"
                                                    value="{{GetTagDisplay this.qualModel.value.publicAttributes}}"
                                                >
                                            </div>
                                        </div>
                                        {{#ifCond @index 0}}
                                            <br>
                                        {{/ifCond}}
                                    {{/if}}
                                {{/each}}
                            </td>
                            <td>
                                {{#each this}}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <select
                                                class="project-file-read-direction"
                                                data-fileuuid="{{uuid}}"
                                            >
                                                <option></option>
                                                {{#each ../../../readDirections}}
                                                    <option {{ifCondSelected this ../value.readDirection}}>{{this}}</option>
                                                {{/each}}
                                            </select>
                                        </div>
                                    </div>
                                    {{#if this.qualModel}}
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <select
                                                    class="project-file-read-direction"
                                                    data-fileuuid="{{this.qualModel.uuid}}"
                                                >
                                                    <option></option>
                                                    {{#each ../../../readDirections}}
                                                        <option {{ifCondSelected this ../this.qualModel.value.readDirection}}>{{this}}</option>
                                                    {{/each}}
                                                </select>
                                            </div>
                                        </div>
                                        {{#ifCond @index 0}}
                                            <br>
                                        {{/ifCond}}
                                    {{/if}}
                                {{/each}}
                            </td>
                        </tr>
                    {{/each}}
                    {{!-- End Paired Reads --}}


                </tbody>
            </table>
        </div>
    </div>
{{else}}
    <div id="file-container" class="row">
        <div id="drag-and-drop-box" class="jumbotron-dashed-box col-md-12">

            <div id="file-drop">
                <span class="background-icon fa fa-upload"></span>

                <h2>Let's Get Started!</h2>

                <p>
                    <h5>
                        VDJServer can process raw reads (e.g. apply quality filtering), conduct germline inference using IgBlast, and provide summary output of repertoire characteristics.
                    </h5>
                </p>
                <p>
                    <h5>
                        To begin this process, upload sequence data in fastq or fasta format. Currently accepted file types are .fastq, .fasta, .fna, .fa, .qual, .gz, .bz2, and .Z.
                    </h5>
                </p>
                <p>
                    <h5>
                        You can also upload your primer sequences and barcode sequences here if you wish to identify and remove them from the raw reads prior to alignment. If you upload a barcode file, VDJserver will separate and analyze your samples for you.
                    </h5>
                </p>
                <p>
                    <h5>
                        You can drag and drop to upload data or just click here
                    </h5>
                </p>
            </div>
        </div>
        <div id="file-staging"></div>
    </div>
{{/if}}

<div id="job-submit"></div>
